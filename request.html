<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="styles.css" id="estilos">
  <link rel="icon" href="Icon/Icon 96.ico">

  <title>The Wild West Midis - Request Midis</title>
  <meta name="description"
    content="Request midis on The Wild West Midis, If you have a midi request, feel free to send it to us!">

  <!-- Discord Embed -->
  <meta content="The Wild West Midis - 1k+ Midis!" property="og:title" />
  <meta content="https://thewildwestmidis.github.io" property="og:url">
  <meta
    content="The best midi list for the wild west! 1k+ Midis, Directly copy MIDI Data, a search bar a favorites section, a midi player and visualizer, midi requests and more! By Bertogim"
    property="og:description" />
  <meta content="https://thewildwestmidis.github.io/Icon/Icon%20Full.png" property="og:image" />
  <meta name="theme-color" content="#FFFF00">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4TVB1MLE2Z"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-4TVB1MLE2Z');
  </script>


</head>

<body>
  <header>
    <div style="display: flex; justify-content: left; gap: 20px;">
      <h2 style="margin: 0;"></h2>The Wild West Midis</h2>
      <p style="margin: 0; color: #b7b7b7;">
        <a href="/" target="" style="color: inherit; text-decoration: underline;">All midis</a>
      </p>
      <p style="margin: 0; color: #b7b7b7;">
        <a href="/tutorial" style="color: inherit; text-decoration: underline;">How to play music</a>
      </p>
      <p style="margin: 0; color: #b7b7b7;">
        <a href="/favorites" target="" style="color: inherit; text-decoration: underline;">Your Favorites</a>
      </p>
      <p style="margin: 0; color: #b7b7b7;">
        <a href="/about" target="" style="color: inherit; text-decoration: underline;">About</a>
      </p>
    </div>
  </header>
  <h1 style="text-align: center;">Request midis</h1>
  <main>

    <h3 style="text-align: center;">If you have a midi request, feel free to send it to us!</h3>
    <center>
      <br>
      <h3>Requested midis</h3>
      <iframe class="the-iframe" style="border: 0px;" title="Requested midis" width="600px" height="250px"
        src="https://docs.google.com/spreadsheets/u/0/d/e/2PACX-1vSVPF9-i5ujMOAoFqo-5QYj-boje8J88RJaBA8cBBcTVHYpfu7NBGdVUfhD193MR3zq6jiKS5C30TdJ/pubhtml/sheet?headers=false&gid=661715213">
      </iframe>
      <div class="background" style="width: 500px;">
      <p>Requests are usually accepted once every 2 to 4 days</p>
      <p>Last requests acception: <span id="time-ago">calculating...</span> ago</p>

      <script>
        async function fetchLastAcceptance() {
            const response = await fetch('https://api.github.com/repos/thewildwestmidis/midis/commits/main');
            const data = await response.json();
            const lastCommitDate = new Date(data.commit.committer.date);
            const now = new Date();
            const timeDiff = Math.abs(now - lastCommitDate);

            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

            let timeAgoText = '';

            if (days > 0) {
                timeAgoText += `${days} day${days > 1 ? 's' : ''}`;
                if (hours > 0) {
                    timeAgoText += `, ${hours} hour${hours > 1 ? 's' : ''}`;
                }
            } else if (hours > 0) {
                timeAgoText += `${hours} hour${hours > 1 ? 's' : ''}`;
                if (minutes > 0) {
                    timeAgoText += `, ${minutes} minute${minutes > 1 ? 's' : ''}`;
                }
            } else if (minutes > 0) {
                timeAgoText += `${minutes} minute${minutes > 1 ? 's' : ''}`;
                if (seconds > 0) {
                    timeAgoText += `, ${seconds} second${seconds > 1 ? 's' : ''}`;
                }
            } else {
                timeAgoText += `${seconds} second${seconds > 1 ? 's' : ''}`;
            }

            document.getElementById('time-ago').textContent = timeAgoText;
        }

        fetchLastAcceptance();
    </script>
      </div>
      <br><br>
      <br>
      <br>
      <h2>Request a midi:</h2>
      <iframe
        src="https://docs.google.com/forms/d/e/1FAIpQLScMHjuLoeRJN-OYyVHwlESnPGdsEWhrUUBR3Ob8sZZU0EtPtg/viewform?embedded=true"
        width="100%" height="900px" frameborder="0" marginheight="0" marginwidth="0">Loading</iframe>
    </center>
    <div class="background" style="width: 60%; margin-left: 20%;">
      <br>
      <center>
        <p style="margin: 0; color: #b7b7b7;">
          <a href="https://docs.google.com/forms/d/e/1FAIpQLScMHjuLoeRJN-OYyVHwlESnPGdsEWhrUUBR3Ob8sZZU0EtPtg/viewform?usp=sf_link"
            target="" style="color: inherit; text-decoration: underline;">If the form doesn't load you can still request
            a midi here</a>
        </p>
      </center>
      <br>

      <div style="width: 80%; margin-left: 20%;">
        <h3>Midi Request Responses</h3>
        <p>Yes = Midi accepted and uploaded to the site</p>
        <p>No midi name = The midi requested doesn't have a name</p>
        <p>Pending = The midi request is delayed</p>
      </div>
    </div>
    <br><br>
    <center>
      <p>This page is meant to be used for the Roblox game <a
          href="https://www.roblox.com/games/2317712696/The-Wild-West" target="_blank">The Wild West</a></p>
    </center>
  </main>
  <script src="background.js"></script>
</body>

</html>
